{"version":3,"sources":["Components/_shared/ButtonLink.js","utils/mediaQuery.js","config/breakpoints.js","Components/_shared/Container.js","stores/mementoStore.js","services/firebase.js","utils/getContentType.js","stores/userStore.js","stores/rootStore.js","stores/hooks/useStore.js","layout/index.js","Components/Logo/index.js","Components/Login/Login.js","Components/Register/RegisterPatient.js","Components/TableRows/PatientRow.js","Components/Paginas/CareGiver.js","Components/TableRows/DoctorPatientRow.js","Components/Paginas/Doctor.js","Components/TableRows/MementoRow.js","Components/Patient/Patient.js","Components/TableRows/ScoreRow.js","Components/Patient/Scores.js","Components/Register/Register.js","utils/getScores.js","Game.js","routes/PrivateRoute.js","routes/index.js","App.js","serviceWorker.js","index.js"],"names":["CustomLink","styled","Link","CustomButton","Button","ButtonLink","to","label","props","mediaQuery","mapValues","sm","md","lg","xl","w","Container","div","Lembraca","types","model","desc","maybe","string","data","path","type","LembracaStore","lembrancaList","array","optional","actions","self","addlembranca","p","push","clearAll","clear","app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","database","storageRef","storage","ref","getContentType","str","match","includes","Games","gameTime","dataSelecionada","numOfMementos","number","score","Memento","url","Patient","id","name","birthday","cpf","weight","scores","mementos","User","maybeNull","uid","patients","UserStore","user","token","loading","views","fetchUser","flow","once","snapshot","userSnapshot","val","pacientes","pacientesValues","Object","entries","careGiverPatients","filter","key","values","some","value","map","assign","console","error","message","addMemento","memento","file","Promise","resolve","reject","child","put","then","updateMetadata","fullPath","mementoRef","getDownloadURL","find","patient","addScore","gameData","initialize","login","email","password","auth","signInWithEmailAndPassword","authUser","response","logout","undefined","addPatient","newPatient","set","afterCreate","a","localStorage","getItem","autorun","setItem","removeItem","RootStore","userStore","lembrancaStore","create","useStore","Store","useIsAuthorized","store","useObserver","isAuthorized","Navbar","StyledContainer","Wrapper","ButtonWrapper","NameText","span","UserChildrenWrapper","Layout","children","useIsUserLoading","isAuth","width","useWindowSize","color","height","Fragment","variant","onClick","Title","index","size","icon","faBrain","StyledForm","Form","ButtonsControl","Login","Component","constructor","super","handleChange","event","this","setState","target","handleSubmit","preventDefault","state","history","alert","routeChange","validateForm","length","render","onSubmit","Logo","Group","controlId","Label","Control","autoFocus","onChange","className","disabled","form","withRouter","inject","observer","RegisterPatient","handleControl","e","FormGroup","FormControl","placeholder","required","LinhaPaciente","moment","format","Header","Icon","FontAwesomeIcon","CareGiver","handleClose","show","handleShow","rows","getSnapshot","faPlus","Table","striped","bordered","hover","scope","row","PatientRow","Modal","onHide","backdrop","keyboard","ModalHeader","closeButton","ModalTitle","ModalBody","LinhaPacienteMedico","Doctor","PreviewImg","img","PriviewVideo","video","MementoRow","preview","log","src","alt","controls","React","useState","setShow","uploading","setUploading","setPatient","useForm","register","useParams","useEffect","formvalues","customMetadata","Body","accept","ScoreRow","Score","jogos","componentDidMount","params","userPatient","useHistory","isRegister","setIsRegister","createUserWithEmailAndPassword","autoComplete","as","defaultValue","getScore","gapCorreto","gapSelecionado","millisecondsToMinutesSeconds","ms","duration","fromMinutes","Math","floor","asMinutes","fromSeconds","asSeconds","viewWidth","window","innerWidth","viewHeight","innerHeight","Game","handleFrameTasks","fnName","ready","gameSpecs","sender","JSON","stringify","ifr","contentWindow","postMessage","jsonData","parse","confirm","arrayData","gameScore","Date","now","initGame","done","onWindowResize","f","title","componentDidUpdate","onload","addEventListener","componentWillUnmount","removeEventListener","shuffledMementos","shuffle","chunck","nome","lembracaStr","lembracaObj","PrivateRoute","component","rest","pathname","Routes","exact","Register","Caregiver","Scores","basePath","BASE_PATH","App","basename","rootStore","Boolean","location","hostname","dotenv","config","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.b17524b5.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst CustomLink = styled(Link)`\r\n  text-decoration: none;\r\n`;\r\n\r\nconst CustomButton = styled(Button)`\r\n  width: 100%;\r\n  font-size: 1rem;\r\n`;\r\n\r\nconst ButtonLink = ({ to, label, ...props }) => {\r\n  return (\r\n    <>\r\n      <CustomLink to={to}>\r\n        <CustomButton {...props}>{label}</CustomButton>\r\n      </CustomLink>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ButtonLink;\r\n","import mapValues from \"lodash/mapValues\";\r\n\r\nimport breakpoints from \"../config/breakpoints\";\r\n\r\nexport const mediaQuery = mapValues(breakpoints, (w) => `(min-width: ${w}px)`);\r\n","export default {\r\n  sm: 576,\r\n  md: 768,\r\n  lg: 992,\r\n  xl: 1200,\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nimport { mediaQuery } from \"../../utils/mediaQuery\";\r\n\r\nexport const Container = styled.div`\r\n  padding: 0 0.5rem;\r\n  @media ${mediaQuery.md} {\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    max-width: 550px;\r\n  }\r\n\r\n  @media ${mediaQuery.lg} {\r\n    max-width: 1280px;\r\n  }\r\n`;\r\n","import { types } from \"mobx-state-tree\"\r\n\r\nconst Lembraca = types.model({\r\n    desc: types.maybe(types.string),\r\n    data: types.maybe(types.string),\r\n    path: types.maybe(types.string),\r\n    type: types.maybe(types.string)\r\n});\r\n\r\n// Store that will have all the lembracas from a given paciente\r\nconst LembracaStore = types\r\n    .model({\r\n        lembrancaList: types.array(types.optional(Lembraca, {}))\r\n    })\r\n    .actions(self => ({\r\n        addlembranca(p) {\r\n            self.lembrancaList.push(p);\r\n        },\r\n        clearAll() {\r\n            self.lembrancaList.clear();\r\n        }\r\n    }))\r\n\r\nexport default LembracaStore;","import \"firebase/database\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/auth\";\r\n\r\nimport firebase from \"firebase/app\";\r\n\r\n// Export all the need references to the firebase\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_apiKey,\r\n  authDomain: process.env.REACT_APP_authDomain,\r\n  databaseURL: process.env.REACT_APP_databaseURL,\r\n  projectId: process.env.REACT_APP_projectId,\r\n  storageBucket: process.env.REACT_APP_storageBucket,\r\n  messagingSenderId: process.env.REACT_APP_messagingSenderId,\r\n};\r\n\r\nconst app = firebase.initializeApp(config);\r\nconst database = app.database();\r\nconst storageRef = app.storage().ref();\r\n\r\nexport { app, database, storageRef };\r\n","export function getContentType(str) {\r\n  // Regex to find what is the content to be showed\r\n  const regex = /image|video?/gi;\r\n  const [match] = str.match(regex);\r\n\r\n  if (match.includes(\"video\")) return \"video\";\r\n\r\n  return \"image\";\r\n}\r\n","import { autorun } from \"mobx\";\r\nimport { flow, types } from \"mobx-state-tree\";\r\n\r\nimport { app, database, storageRef } from \"../services/firebase\";\r\nimport { getContentType } from \"../utils/getContentType\";\r\n\r\nconst STORAGE_KEY_TOKEN = \"token\";\r\n\r\nconst Games = types.model({\r\n  gameTime: types.maybe(types.string),\r\n  data: types.maybe(types.string),\r\n  dataSelecionada: types.maybe(types.string),\r\n  numOfMementos: types.maybe(types.number),\r\n  score: types.maybe(types.number),\r\n});\r\n\r\nconst Memento = types.model({\r\n  desc: types.maybe(types.string),\r\n  data: types.maybe(types.string),\r\n  path: types.maybe(types.string),\r\n  type: types.maybe(types.string),\r\n  url: types.maybe(types.string),\r\n});\r\n\r\nconst Patient = types.model({\r\n  id: types.maybe(types.string),\r\n  name: types.maybe(types.string),\r\n  birthday: types.maybe(types.string),\r\n  cpf: types.maybe(types.string),\r\n  weight: types.maybe(types.string),\r\n  scores: types.array(types.optional(Games, {})),\r\n  mementos: types.array(types.optional(Memento, {})),\r\n});\r\n\r\nconst User = types.model({\r\n  type: types.maybeNull(types.string),\r\n  name: types.maybe(types.string),\r\n  birthday: types.maybe(types.string),\r\n  cpf: types.maybe(types.string),\r\n  uid: types.maybe(types.string),\r\n  patients: types.array(Patient),\r\n});\r\n\r\n// Store that will have all the lembracas from a given paciente\r\nconst UserStore = types\r\n  .model({\r\n    user: types.maybeNull(User),\r\n    token: types.maybe(types.string),\r\n    loading: false,\r\n  })\r\n  .views((self) => ({\r\n    get isAuthorized() {\r\n      return !!self.token;\r\n    },\r\n  }))\r\n  .actions((self) => {\r\n    const fetchUser = flow(function* () {\r\n      self.loading = true;\r\n\r\n      // Try to login with the google default sing in\r\n      try {\r\n        const snapshot = yield database\r\n          .ref(\"users/\" + self.token)\r\n          .once(\"value\");\r\n\r\n        const userSnapshot = snapshot.val();\r\n\r\n        self.user = userSnapshot;\r\n\r\n        const pacientes = yield database.ref(\"pacientes/\").once(\"value\");\r\n\r\n        const pacientesValues = Object.entries(pacientes.val());\r\n\r\n        if (self.user.type === \"Cuidador\") {\r\n          const careGiverPatients = pacientesValues.filter(([key]) =>\r\n            Object.values(userSnapshot.pacientes).some((value) => value === key)\r\n          );\r\n\r\n          self.user.patients = careGiverPatients.map(([key, value]) => {\r\n            const mementos = value.mementos\r\n              ? Object.values(value.mementos)\r\n              : [];\r\n\r\n            const patient = Object.assign(\r\n              {},\r\n              { ...value },\r\n              { id: key },\r\n              { mementos }\r\n            );\r\n            return patient;\r\n          });\r\n        }\r\n\r\n        if (self.user.type === \"Medico\") {\r\n          self.user.patients = pacientesValues.map(([key, value]) => {\r\n            const mementos = value.mementos\r\n              ? Object.values(value.mementos)\r\n              : [];\r\n            const scores = value.scores ? Object.values(value.scores) : [];\r\n\r\n            const patient = Object.assign(\r\n              {},\r\n              { ...value },\r\n              { id: key },\r\n              { mementos, scores }\r\n            );\r\n            return patient;\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error(error.message);\r\n      }\r\n\r\n      self.loading = false;\r\n    });\r\n\r\n    const addMemento = flow(function* (id, memento, desc, file, data, type) {\r\n      try {\r\n        yield new Promise((resolve, reject) => {\r\n          try {\r\n            storageRef\r\n              .child(\"mementos/\" + id + \"/\" + desc)\r\n              .put(file, memento)\r\n              .then(() => {\r\n                resolve(\"Uploaded\");\r\n              });\r\n          } catch (error) {\r\n            reject(\"Error upload!\");\r\n          }\r\n        });\r\n\r\n        storageRef.child(\"mementos/\" + id + \"/\" + desc).updateMetadata(memento);\r\n\r\n        const path = storageRef.child(\"mementos/\" + id + \"/\" + desc).fullPath;\r\n\r\n        // Create a reference to the file we want to download\r\n        const mementoRef = storageRef.child(path);\r\n\r\n        // Get the download URL\r\n        const url = yield mementoRef.getDownloadURL();\r\n\r\n        yield database.ref(\"pacientes/\" + id + \"/mementos\").push({\r\n          desc,\r\n          data,\r\n          path,\r\n          type: getContentType(type),\r\n          url,\r\n        });\r\n\r\n        const patient = self.user.patients.find((patient) => patient.id === id);\r\n\r\n        patient.mementos.push({ desc, path, data, type, url });\r\n      } catch (error) {\r\n        console.error(error.message);\r\n      }\r\n    });\r\n\r\n    const addScore = flow(function* (id, gameData) {\r\n      try {\r\n        yield database.ref(\"pacientes/\" + id + \"/scores\").push(gameData);\r\n\r\n        const patient = self.user.patients.find((patient) => patient.id === id);\r\n\r\n        patient.scores.push(gameData);\r\n      } catch (error) {\r\n        console.error(error.message);\r\n      }\r\n    });\r\n\r\n    return { fetchUser, addMemento, addScore };\r\n  })\r\n\r\n  .actions((self) => {\r\n    const initialize = flow(function* (token) {\r\n      self.token = token;\r\n\r\n      if (token) {\r\n        yield self.fetchUser();\r\n      }\r\n    });\r\n\r\n    return {\r\n      initialize,\r\n    };\r\n  })\r\n  .actions((self) => {\r\n    const logout = () => {\r\n      self.token = undefined;\r\n    };\r\n    // Make the login with the API, pass the token that come from google, and set the token generated in th API\r\n    const login = flow(function* ({ email, password }) {\r\n      // Try to login with the google default sing in\r\n      try {\r\n        const authUser = yield app\r\n          .auth()\r\n          .signInWithEmailAndPassword(email, password);\r\n\r\n        const { uid } = authUser.user;\r\n\r\n        yield self.initialize(uid);\r\n\r\n        return {\r\n          response: true,\r\n          message: \"ok\",\r\n        };\r\n      } catch (error) {\r\n        console.error(error.message);\r\n\r\n        return {\r\n          response: false,\r\n          message: error.message,\r\n        };\r\n      }\r\n    });\r\n\r\n    return { login, logout };\r\n  })\r\n\r\n  .actions((self) => {\r\n    const addPatient = flow(function* (patient) {\r\n      try {\r\n        const values = yield database.ref(\"pacientes/\").push(patient);\r\n\r\n        const newPatient = Object.assign(\r\n          {},\r\n          { ...patient },\r\n          { id: values.key }\r\n        );\r\n\r\n        if (self.user.type === \"Cuidador\") {\r\n          const key = values.key;\r\n          yield database\r\n            .ref(\"users/\" + self.token + \"/pacientes\")\r\n            .child(key)\r\n            .set(values.key);\r\n        }\r\n\r\n        self.user.patients.push(newPatient);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    });\r\n\r\n    return {\r\n      addPatient,\r\n    };\r\n  })\r\n\r\n  .actions((self) => ({\r\n    afterCreate: async () => {\r\n      const token = localStorage.getItem(STORAGE_KEY_TOKEN);\r\n\r\n      // Case the token is allready in localsotrage initialize with it\r\n      await self.initialize(token || undefined);\r\n\r\n      autorun(() => {\r\n        if (self.token) {\r\n          localStorage.setItem(STORAGE_KEY_TOKEN, self.token);\r\n        } else {\r\n          localStorage.removeItem(STORAGE_KEY_TOKEN);\r\n        }\r\n      });\r\n    },\r\n  }));\r\n\r\nexport default UserStore;\r\n","import { types } from \"mobx-state-tree\";\r\n\r\nimport LembracaStore from \"./mementoStore\";\r\nimport UserStore from \"./userStore\";\r\n\r\n// Store that will have all the lembracas from a given paciente\r\nconst RootStore = types.model({\r\n  userStore: types.optional(UserStore, {}),\r\n  lembrancaStore: types.optional(LembracaStore, {}),\r\n});\r\n\r\nexport default RootStore.create();\r\n","import { useObserver } from \"mobx-react\";\r\n\r\nimport Store from \"../rootStore\";\r\n\r\nexport const useStore = () => Store;\r\n\r\nexport const useIsAuthorized = () => {\r\n  const store = useStore();\r\n\r\n  return useObserver(() => store.userStore.isAuthorized);\r\n};\r\n\r\nexport const useIsUserLoading = () => {\r\n  const store = useStore();\r\n\r\n  return useObserver(() => store.userStore.loading);\r\n};\r\n","import React from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { useWindowSize } from \"react-use\";\r\nimport styled from \"styled-components\";\r\n\r\nimport ButtonLink from \"../Components/_shared/ButtonLink\";\r\nimport { Container } from \"../Components/_shared/Container\";\r\nimport {\r\n  useIsAuthorized,\r\n  useIsUserLoading,\r\n  useStore,\r\n} from \"../stores/hooks/useStore\";\r\n\r\nconst Navbar = styled.div`\r\n  width: 100vw;\r\n  position: sticky;\r\n\r\n  background-color: #007bff;\r\n`;\r\nconst StyledContainer = styled(Container)`\r\n  padding: 1rem 0;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  color: white;\r\n`;\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n\r\n  align-items: center;\r\n`;\r\n\r\nconst NameText = styled.span`\r\n  display: inline-block;\r\n\r\n  font-weight: bold;\r\n  white-space: nowrap;\r\n`;\r\n\r\nconst UserChildrenWrapper = styled.div`\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst Layout = ({ children }) => {\r\n  const loading = useIsUserLoading();\r\n  const isAuth = useIsAuthorized();\r\n  const store = useStore();\r\n  const { width } = useWindowSize();\r\n\r\n  const type = store.userStore.user ? store.userStore.user.type : null;\r\n  const name = store.userStore.user ? store.userStore.user.name : null;\r\n\r\n  if (width < 768) {\r\n    return <div>Dimesões inferiores a suportada! </div>;\r\n  }\r\n\r\n  if (loading) {\r\n    return <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />;\r\n  }\r\n\r\n  if (!isAuth) {\r\n    return <React.Fragment>{children}</React.Fragment>;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar>\r\n        <StyledContainer>\r\n          <Wrapper>\r\n            <NameText>{name}</NameText>\r\n            <ButtonWrapper>\r\n              <ButtonLink\r\n                variant=\"primary\"\r\n                label=\"Meus Pacientes\"\r\n                to={`/${type}`}\r\n              />\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={() => {\r\n                  store.userStore.logout();\r\n                }}\r\n              >\r\n                Sair\r\n              </Button>\r\n            </ButtonWrapper>\r\n          </Wrapper>\r\n        </StyledContainer>\r\n      </Navbar>\r\n      <UserChildrenWrapper>{children}</UserChildrenWrapper>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { faBrain } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  color: white;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nconst index = () => {\r\n  return (\r\n    <Wrapper>\r\n      <FontAwesomeIcon size=\"2x\" icon={faBrain} />\r\n      <Title>Memento</Title>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default index;\r\n","import { inject, observer } from \"mobx-react\";\r\nimport React, { Component } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { Redirect, withRouter } from \"react-router\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { Container } from \"../_shared/Container\";\r\nimport Logo from \"../Logo\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  flex-direction: column;\r\n`;\r\n\r\nconst StyledForm = styled(Form)`\r\n  min-width: 500px;\r\n  padding: 1rem;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  background-color: #007bff;\r\n  box-shadow: 0 0 1em gray;\r\n  color: white;\r\n  border-radius: 0.5rem;\r\n`;\r\n\r\nconst ButtonsControl = styled(Form)`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.props = props;\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  }\r\n\r\n  validateForm() {\r\n    return this.state.email.length > 0 && this.state.password.length > 0;\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.id]: event.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const { email, password } = this.state;\r\n\r\n    const { store, history } = this.props;\r\n\r\n    const { response, message } = await store.userStore.login({\r\n      email,\r\n      password,\r\n    });\r\n\r\n    if (response) {\r\n      history.push(`${store.userStore.user.type}`);\r\n    }\r\n\r\n    if (!response) {\r\n      alert(message);\r\n    }\r\n  };\r\n\r\n  routeChange = () => {\r\n    const { history } = this.props;\r\n    history.push(\"/cadastro\");\r\n  };\r\n\r\n  render() {\r\n    if (this.props.store.userStore.isAuthorized) {\r\n      return <Redirect to={`/${this.props.store.userStore.user.type}`} />;\r\n    }\r\n    return (\r\n      <Container>\r\n        <Wrapper>\r\n          <StyledForm onSubmit={this.handleSubmit} id=\"login\">\r\n            <Logo />\r\n            <Form.Group controlId=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                autoFocus\r\n                type=\"email\"\r\n                value={this.state.email}\r\n                onChange={this.handleChange}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label>Senha</Form.Label>\r\n              <Form.Control\r\n                value={this.state.password}\r\n                onChange={this.handleChange}\r\n                type=\"password\"\r\n              />\r\n            </Form.Group>\r\n            <ButtonsControl>\r\n              <Button\r\n                className=\"btn btn-primary\"\r\n                disabled={!this.validateForm()}\r\n                type=\"submit\"\r\n                form=\"login\"\r\n              >\r\n                Login\r\n              </Button>\r\n              <Button className=\"btn btn-primary\" onClick={this.routeChange}>\r\n                Cadastrar\r\n              </Button>\r\n            </ButtonsControl>\r\n          </StyledForm>\r\n        </Wrapper>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(inject(\"store\")(observer(Login)));\r\n","import { inject, observer } from \"mobx-react\";\r\nimport React, { Component } from \"react\";\r\nimport { FormControl, FormGroup } from \"react-bootstrap\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nclass RegisterPatient extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      birthday: \"\",\r\n      name: \"\",\r\n      cpf: \"\",\r\n      weight: \"\",\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { birthday, name, cpf, weight } = this.state;\r\n    try {\r\n      this.setState({ loading: true });\r\n      await this.props.store.userStore.addPatient({\r\n        birthday,\r\n        name,\r\n        cpf,\r\n        weight,\r\n      });\r\n      this.setState({ loading: false });\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  handleControl = (e) => {\r\n    const { value, id } = e.target;\r\n    this.setState({ [id]: value });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />;\r\n    }\r\n    return (\r\n      <Form onSubmit={this.handleSubmit}>\r\n        <FormGroup>\r\n          <Form.Label>Nome</Form.Label>\r\n          <FormControl\r\n            type=\"name\"\r\n            id=\"name\"\r\n            placeholder=\"Jose da Silva\"\r\n            onChange={this.handleControl}\r\n            onClick={this.handleControl}\r\n            required={true}\r\n          ></FormControl>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Form.Label>Peso</Form.Label>\r\n          <FormControl\r\n            type=\"text\"\r\n            id=\"weight\"\r\n            placeholder=\"peso\"\r\n            onChange={this.handleControl}\r\n            onClick={this.handleControl}\r\n            required={true}\r\n          ></FormControl>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Form.Label>CPF</Form.Label>\r\n          <FormControl\r\n            type=\"text\"\r\n            id=\"cpf\"\r\n            placeholder=\"CPF\"\r\n            onChange={this.handleControl}\r\n            onClick={this.handleControl}\r\n            required={true}\r\n          ></FormControl>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Form.Label>Data de nascimento</Form.Label>\r\n          <FormControl\r\n            type=\"date\"\r\n            id=\"birthday\"\r\n            placeholder=\"Data nascimento\"\r\n            onChange={this.handleControl}\r\n            onClick={this.handleControl}\r\n            required={true}\r\n          ></FormControl>\r\n        </FormGroup>\r\n\r\n        <Button type=\"submit\"> Cadastar </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(inject(\"store\")(observer(RegisterPatient)));\r\n","import moment from \"moment\";\r\nimport React, { Component } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// A simple line with the info about the paciente that is under the care of the user\r\nclass LinhaPaciente extends Component {\r\n  routeChange = (e) => {\r\n    const { id } = e.target;\r\n    const { history, patient } = this.props;\r\n\r\n    history.push(`${id}/${patient.id}`);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <tr>\r\n        <td>{this.props.name}</td>\r\n        <td>{this.props.weight}Kg</td>\r\n        <td>{this.props.cpf}</td>\r\n        <td>\r\n          {moment(this.props.birthday, \"YYYY-MM-DD\").format(\"DD/MM/YYYY\")}\r\n        </td>\r\n        <td>\r\n          <Button\r\n            id=\"paciente\"\r\n            className=\"btn btn-primary\"\r\n            onClick={this.routeChange}\r\n          >\r\n            Acessar\r\n          </Button>\r\n        </td>\r\n        <td>\r\n          <Button\r\n            id=\"jogar\"\r\n            className=\"btn btn-primary\"\r\n            onClick={this.routeChange}\r\n          >\r\n            Jogar\r\n          </Button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LinhaPaciente);\r\n","import { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport { getSnapshot } from \"mobx-state-tree\";\r\nimport React, { Component } from \"react\";\r\nimport { Modal, ModalBody, ModalTitle, Table } from \"react-bootstrap\";\r\nimport ModalHeader from \"react-bootstrap/esm/ModalHeader\";\r\nimport { withRouter } from \"react-router\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { database } from \"../../services/firebase\";\r\nimport { Container } from \"../_shared/Container\";\r\nimport RegisterPatient from \"../Register/RegisterPatient\";\r\nimport PatientRow from \"../TableRows/PatientRow\";\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.5rem;\r\n`;\r\n\r\nconst Icon = styled(FontAwesomeIcon)`\r\n  margin-left: 1rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nclass CareGiver extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      rows: [],\r\n      show: false,\r\n    };\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  handleShow = () => {\r\n    this.setState({ show: true });\r\n  };\r\n\r\n  render() {\r\n    const patients = getSnapshot(this.props.store.userStore.user.patients);\r\n\r\n    if (this.props.store.userStore.user.type !== \"Cuidador\") {\r\n      return <div>Você não pode entrar aqui!</div>;\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <Header>\r\n          <h1>Meus pacientes</h1>\r\n          <Icon onClick={this.handleShow} icon={faPlus} />\r\n        </Header>\r\n        <Table striped bordered hover>\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Nome</th>\r\n              <th scope=\"col\">Peso</th>\r\n              <th scope=\"col\">CPF</th>\r\n              <th scope=\"col\">Data nascimento</th>\r\n              <th scope=\"col\">Acesso ao paciente</th>\r\n              <th scope=\"col\">Jogar</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {patients.map((row, index) => {\r\n              return <PatientRow key={index} patient={row} {...row} />;\r\n            })}\r\n          </tbody>\r\n        </Table>\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={this.handleClose}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <ModalHeader closeButton>\r\n            <ModalTitle>Novo Paciente</ModalTitle>\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <RegisterPatient />\r\n          </ModalBody>\r\n        </Modal>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(inject(\"store\")(observer(CareGiver)));\r\n","import moment from \"moment\";\r\nimport React, { Component } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// A simple line with the info about the patient that is under the care of the user\r\nclass LinhaPacienteMedico extends Component {\r\n  routeChange = (e) => {\r\n    const { id } = e.target;\r\n    const { history, patient } = this.props;\r\n\r\n    history.push(`${id}/${patient.id}`);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <tr>\r\n        <td>{this.props.name}</td>\r\n        <td>{this.props.weight}Kg</td>\r\n        <td>{this.props.cpf}</td>\r\n        <td>\r\n          {moment(this.props.birthday, \"YYYY-MM-DD\").format(\"DD/MM/YYYY\")}\r\n        </td>\r\n        <td>\r\n          <Button\r\n            id=\"paciente\"\r\n            className=\"btn btn-primary\"\r\n            onClick={this.routeChange}\r\n          >\r\n            Acessar\r\n          </Button>\r\n        </td>\r\n        <td>\r\n          <Button\r\n            id=\"jogos\"\r\n            className=\"btn btn-primary\"\r\n            onClick={this.routeChange}\r\n          >\r\n            Acessar\r\n          </Button>\r\n        </td>\r\n        <td>\r\n          <Button\r\n            id=\"jogar\"\r\n            className=\"btn btn-primary\"\r\n            onClick={this.routeChange}\r\n          >\r\n            Jogar\r\n          </Button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LinhaPacienteMedico);\r\n","import { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport { getSnapshot } from \"mobx-state-tree\";\r\nimport React, { Component } from \"react\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { ModalTitle } from \"react-bootstrap\";\r\nimport { ModalBody } from \"react-bootstrap\";\r\nimport ModalHeader from \"react-bootstrap/esm/ModalHeader\";\r\nimport { withRouter } from \"react-router\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { Container } from \"../_shared/Container\";\r\nimport RegisterPatient from \"../Register/RegisterPatient\";\r\nimport LinhaPacienteMedico from \"../TableRows/DoctorPatientRow\";\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.5rem;\r\n`;\r\n\r\nconst Icon = styled(FontAwesomeIcon)`\r\n  margin-left: 1rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nclass Doctor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      show: false,\r\n    };\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  handleShow = () => {\r\n    this.setState({ show: true });\r\n  };\r\n\r\n  render() {\r\n    const patients = getSnapshot(this.props.store.userStore.user.patients);\r\n\r\n    if (this.props.store.userStore.user.type !== \"Medico\") {\r\n      return <div>Você não pode entrar aqui!</div>;\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <Header>\r\n          <h1>Meus pacientes</h1>\r\n          <Icon onClick={this.handleShow} icon={faPlus} />\r\n        </Header>\r\n        <Table striped bordered hover>\r\n          <thead>\r\n            <tr>\r\n              <th>Nome</th>\r\n              <th>Peso</th>\r\n              <th>CPF</th>\r\n              <th>Data nascimento</th>\r\n              <th>Acesso as lembraças</th>\r\n              <th>Acesso as scores</th>\r\n              <th>Jogar</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {patients.map((row, index) => {\r\n              return <LinhaPacienteMedico key={index} patient={row} {...row} />;\r\n            })}\r\n          </tbody>\r\n        </Table>\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={this.handleClose}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <ModalHeader closeButton>\r\n            <ModalTitle>Novo Paciente</ModalTitle>\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <RegisterPatient />\r\n          </ModalBody>\r\n        </Modal>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(inject(\"store\")(observer(Doctor)));\r\n","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst PreviewImg = styled.img`\r\n  width: 250px;\r\n  height: 200px;\r\n\r\n  object-fit: contain;\r\n`;\r\n\r\nconst PriviewVideo = styled.video`\r\n  width: 250px;\r\n  height: 200px;\r\n\r\n  object-fit: contain;\r\n`;\r\n\r\nconst MementoRow = ({ type, data, desc, url }) => {\r\n  let preview;\r\n  console.log(type);\r\n\r\n  if (type.includes(\"image\")) {\r\n    preview = <PreviewImg src={url} alt=\"lembrança\" />;\r\n  }\r\n\r\n  if (type.includes(\"video\")) {\r\n    preview = <PriviewVideo controls src={url} />;\r\n  }\r\n  return (\r\n    <tr>\r\n      <td>{preview}</td>\r\n      <td>{desc}</td>\r\n      <td>{moment(data, \"YYYY-MM-DD\").format(\"DD/MM/YYYY\")}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default MementoRow;\r\n","import { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { observer } from \"mobx-react\";\r\nimport { getSnapshot } from \"mobx-state-tree\";\r\nimport React from \"react\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  FormControl,\r\n  FormGroup,\r\n  Modal,\r\n  Table,\r\n} from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { useParams } from \"react-router\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { useStore } from \"../../stores/hooks/useStore\";\r\nimport { Container } from \"../_shared/Container\";\r\nimport MementoRow from \"../TableRows/MementoRow\";\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.5rem;\r\n`;\r\n\r\nconst Icon = styled(FontAwesomeIcon)`\r\n  margin-left: 1rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Patient = () => {\r\n  const [show, setShow] = React.useState(false);\r\n  const [uploading, setUploading] = React.useState(false);\r\n  const [patient, setPatient] = React.useState(undefined);\r\n\r\n  const { handleSubmit, register } = useForm();\r\n  const store = useStore();\r\n  const { id } = useParams();\r\n\r\n  React.useEffect(() => {\r\n    const patient = getSnapshot(\r\n      store.userStore.user.patients.find((patient) => patient.id === id)\r\n    );\r\n\r\n    setPatient(patient);\r\n  }, []);\r\n\r\n  const onSubmit = async (formvalues) => {\r\n    const { desc, data } = formvalues;\r\n    const file = formvalues.file[0];\r\n\r\n    if (!desc || !file || !data) {\r\n      alert(\"Todos os campos devem estar preenchidos!\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Set its state to uploading, to show the sppiner and the user knows that the file is in upload\r\n      setUploading(true);\r\n\r\n      let { type } = file;\r\n\r\n      const memento = {\r\n        customMetadata: {\r\n          desc,\r\n          data,\r\n        },\r\n      };\r\n\r\n      await store.userStore.addMemento(id, memento, desc, file, data, type);\r\n\r\n      const patient = getSnapshot(\r\n        store.userStore.user.patients.find((patient) => patient.id === id)\r\n      );\r\n\r\n      setPatient(patient);\r\n\r\n      setShow(false);\r\n      setUploading(false);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  if (!patient) return <div>Paciente nao encontrado</div>;\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <h1>Lembranças de {patient.name}</h1>\r\n        <Icon onClick={() => setShow(true)} icon={faPlus} />\r\n      </Header>\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Lembrança</th>\r\n            <th scope=\"col\">Descrição</th>\r\n            <th scope=\"col\">Data</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {patient.mementos.map((row, index) => {\r\n            return <MementoRow key={index} {...row} />;\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n      <Modal\r\n        show={show}\r\n        onHide={() => setShow(false)}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton={!uploading}>\r\n          <Modal.Title>Envio de lembraça</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {uploading ? (\r\n            <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\r\n          ) : (\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n              <FormGroup>\r\n                <Form.Label>Descrição</Form.Label>\r\n                <FormControl\r\n                  type=\"text\"\r\n                  name=\"desc\"\r\n                  placeholder=\"Decrição da lembraça\"\r\n                  ref={register}\r\n                  required={true}\r\n                />\r\n              </FormGroup>\r\n\r\n              <FormGroup>\r\n                <Form.Label>Data da lembrança</Form.Label>\r\n                <FormControl\r\n                  type=\"date\"\r\n                  name=\"data\"\r\n                  placeholder=\"Data de ocorrencia\"\r\n                  ref={register}\r\n                  required={true}\r\n                />\r\n              </FormGroup>\r\n\r\n              <FormGroup>\r\n                <Form.Label>Arquivo da lembrança (video ou imagem)</Form.Label>\r\n                <FormControl\r\n                  type=\"file\"\r\n                  name=\"file\"\r\n                  accept=\".mp4,.avi,.png,.jpeg\"\r\n                  placeholder=\"Selecione a lembrança\"\r\n                  ref={register}\r\n                  required={true}\r\n                />\r\n              </FormGroup>\r\n\r\n              <Button type=\"submit\" variant=\"primary\">\r\n                Enviar\r\n              </Button>\r\n            </Form>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default observer(Patient);\r\n","import React from \"react\";\r\n\r\nconst ScoreRow = ({ data, gameTime, score, numOfMementos }) => {\r\n  return (\r\n    <tr>\r\n      <td>{score}</td>\r\n      <td>{numOfMementos}</td>\r\n      <td>{gameTime}</td>\r\n      <td>{data}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default ScoreRow;\r\n","import { inject, observer } from \"mobx-react\";\r\nimport { getSnapshot } from \"mobx-state-tree\";\r\nimport React, { Component } from \"react\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport { withRouter } from \"react-router\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { Container } from \"../_shared/Container\";\r\nimport ScoreRow from \"../TableRows/ScoreRow\";\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.5rem;\r\n`;\r\n\r\nclass Score extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      jogos: [],\r\n      patient: undefined,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.patient) return null;\r\n\r\n    const { name } = this.state.patient;\r\n\r\n    return (\r\n      <Container>\r\n        <Header>\r\n          <h1>Scores de {name}</h1>\r\n        </Header>\r\n        <Table striped bordered hover>\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Acertos</th>\r\n              <th scope=\"col\">Numero de lembranças</th>\r\n              <th scope=\"col\">Tempo de jogo (mm:ss)</th>\r\n              <th scope=\"col\">Data do jogo</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.state.patient.scores.map((score, index) => {\r\n              return <ScoreRow key={index} {...score} />;\r\n            })}\r\n          </tbody>\r\n        </Table>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id;\r\n    const patient = this.props.store.userStore.user.patients.find(\r\n      (userPatient) => userPatient.id === id\r\n    );\r\n\r\n    this.setState({\r\n      patient: patient ? getSnapshot(patient) : undefined,\r\n    });\r\n  }\r\n}\r\n\r\nexport default withRouter(inject(\"store\")(observer(Score)));\r\n","import React from \"react\";\r\nimport { FormControl, FormGroup } from \"react-bootstrap\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { useHistory, withRouter } from \"react-router\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { app, database } from \"../../services/firebase\";\r\nimport { Container } from \"../_shared/Container\";\r\nimport Logo from \"../Logo\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst StyledForm = styled(Form)`\r\n  min-width: 500px;\r\n  padding: 1rem;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  background-color: #007bff;\r\n  box-shadow: 0 0 1em gray;\r\n  color: white;\r\n  border-radius: 0.5rem;\r\n`;\r\n\r\nconst Register = () => {\r\n  const { handleSubmit, register } = useForm();\r\n  const history = useHistory();\r\n  const [isRegister, setIsRegister] = React.useState(false);\r\n\r\n  const onSubmit = async (data) => {\r\n    const { email, password, birthday, name, cpf, type } = data;\r\n    setIsRegister(true);\r\n    //Try to push data to the firebase after it creates a user by the default google createUser's\r\n    try {\r\n      const authUser = await app\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email, password);\r\n\r\n      // Create a user in your Firebase realtime database\r\n      await database.ref(\"users/\" + authUser.user.uid).set({\r\n        name,\r\n        email,\r\n        birthday,\r\n        cpf,\r\n        type,\r\n      });\r\n\r\n      setIsRegister(false);\r\n\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  if (isRegister) {\r\n    return <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />;\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Wrapper>\r\n        <StyledForm onSubmit={handleSubmit(onSubmit)}>\r\n          <Logo />\r\n          <FormGroup>\r\n            <Form.Label>Email</Form.Label>\r\n            <FormControl\r\n              type=\"email\"\r\n              autoComplete=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"name@example.com\"\r\n              ref={register}\r\n              required={true}\r\n            ></FormControl>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Form.Label>Senha</Form.Label>\r\n            <FormControl\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"senha\"\r\n              ref={register}\r\n              required={true}\r\n            ></FormControl>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Form.Label>Nome</Form.Label>\r\n            <FormControl\r\n              type=\"name\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              placeholder=\"Nome\"\r\n              ref={register}\r\n              required={true}\r\n            ></FormControl>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Form.Label>CPF</Form.Label>\r\n            <FormControl\r\n              type=\"text\"\r\n              id=\"cpf\"\r\n              name=\"cpf\"\r\n              placeholder=\"CPF\"\r\n              ref={register}\r\n              required={true}\r\n            ></FormControl>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Form.Label>Data nascimento </Form.Label>\r\n            <FormControl\r\n              type=\"date\"\r\n              id=\"birthday\"\r\n              name=\"birthday\"\r\n              placeholder=\"Data nascimento\"\r\n              ref={register}\r\n              required={true}\r\n            ></FormControl>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Form.Label>Tipo de usuario</Form.Label>\r\n            <FormControl\r\n              as=\"select\"\r\n              id=\"type\"\r\n              name=\"type\"\r\n              ref={register}\r\n              required={true}\r\n              defaultValue=\"Medico\"\r\n            >\r\n              <option>Medico</option>\r\n              <option>Cuidador</option>\r\n            </FormControl>\r\n          </FormGroup>\r\n          <Button type=\"submit\"> Cadastar </Button>\r\n        </StyledForm>\r\n      </Wrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(Register);\r\n","export function getScore(gameData) {\r\n   const { gapCorreto, gapSelecionado } = gameData;\r\n   \r\n   if (gapCorreto === gapSelecionado) return 1;\r\n\r\n   return 0;\r\n}","import chunck from \"lodash/chunk\";\r\nimport shuffle from \"lodash/shuffle\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport { getSnapshot } from \"mobx-state-tree\";\r\nimport moment from \"moment\";\r\nimport React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Redirect, withRouter } from \"react-router\";\r\n\r\nimport { getScore } from \"./utils/getScores\";\r\n\r\nconst millisecondsToMinutesSeconds = (ms) => {\r\n  let duration = moment.duration(ms, \"milliseconds\");\r\n  let fromMinutes = Math.floor(duration.asMinutes());\r\n  let fromSeconds = Math.floor(duration.asSeconds() - fromMinutes * 60);\r\n\r\n  return Math.floor(duration.asSeconds()) >= 60\r\n    ? (fromMinutes <= 9 ? \"0\" + fromMinutes : fromMinutes) +\r\n        \":\" +\r\n        (fromSeconds <= 9 ? \"0\" + fromSeconds : fromSeconds)\r\n    : \"00:\" + (fromSeconds <= 9 ? \"0\" + fromSeconds : fromSeconds);\r\n};\r\n\r\nlet viewWidth = window.innerWidth;\r\nlet viewHeight = window.innerHeight;\r\n\r\nclass Game extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      ready: false,\r\n      gameSpecs: undefined,\r\n      initGame: Date.now(),\r\n      done: false,\r\n    };\r\n  }\r\n\r\n  // Handle called after a message from the iframe (game)\r\n  handleFrameTasks = async (e) => {\r\n    const { fnName } = e.data;\r\n    const { ready, gameSpecs } = this.state;\r\n    const store = this.props.store.userStore;\r\n    const id = this.props.match.params.id;\r\n\r\n    // Here we need to check if the fnName is that one, it secure that the game is allreadt loaded and the data for it is done\r\n    if (fnName === \"returnJson\" && ready) {\r\n      // Simulate a message type for the Rex_FrameMessage addon in the construct game\r\n      const CMD_FNRTN = \"Rex_FrameMessage.Return\";\r\n      const data = {\r\n        type: CMD_FNRTN,\r\n        sender: '\"\"',\r\n        fnName: \"returnJson\",\r\n        value: JSON.stringify(gameSpecs),\r\n      };\r\n\r\n      this.ifr.contentWindow.postMessage(data, \"*\");\r\n    }\r\n\r\n    if (fnName === \"endGame\" && ready) {\r\n      const { data } = e;\r\n      const [jsonData] = data.params;\r\n\r\n      const gameData = JSON.parse(jsonData);\r\n      if (window.confirm(\"Jogo finalizado, deseja salvar os dados?\")) {\r\n        const arrayData = Object.values(gameData);\r\n        let score = 0;\r\n\r\n        for (const data of arrayData) {\r\n          score += getScore(data);\r\n        }\r\n\r\n        const gameScore = {\r\n          score,\r\n          numOfMementos: arrayData.length,\r\n          data: moment().format(\"DD/MM/YYYY\"),\r\n          gameTime: millisecondsToMinutesSeconds(\r\n            Date.now() - this.state.initGame\r\n          ),\r\n        };\r\n\r\n        await store.addScore(id, gameScore);\r\n      } else {\r\n        alert(\"Jogo não salvo nos scores!\");\r\n      }\r\n\r\n      this.setState({ done: true });\r\n    }\r\n  };\r\n\r\n  onWindowResize = () => {\r\n    viewWidth = window.innerWidth;\r\n    viewHeight = window.innerHeight;\r\n\r\n    this.ifr.width = viewWidth;\r\n    this.ifr.height = viewHeight;\r\n  };\r\n\r\n  render() {\r\n    const { ready } = this.state;\r\n\r\n    if (this.state.done) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    if (!this.state.gameSpecs)\r\n      return (\r\n        <div>\r\n          Não é possivel criar um jogo, número insufiiciente de lembranças!\r\n        </div>\r\n      );\r\n\r\n    if (ready) {\r\n      return (\r\n        <iframe\r\n          ref={(f) => (this.ifr = f)}\r\n          id=\"game\"\r\n          title=\"game\"\r\n          src=\"./game\"\r\n          width={viewWidth}\r\n          height={viewHeight}\r\n        ></iframe>\r\n      );\r\n    }\r\n\r\n    if (!ready) {\r\n      return <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />;\r\n    }\r\n  }\r\n\r\n  // After the component update, load all the data for the game we set a listner for the ifram messages\r\n  componentDidUpdate() {\r\n    if (this.ifr) {\r\n      this.ifr.onload = () => {\r\n        window.addEventListener(\"message\", this.handleFrameTasks);\r\n      };\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"message\", this.handleFrameTasks);\r\n    window.removeEventListener(\"resize\", this.onWindowResize);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id;\r\n    const patient = this.props.store.userStore.user.patients.find(\r\n      (userPatient) => userPatient.id === id\r\n    );\r\n\r\n    if (!patient || patient.mementos.length < 3) {\r\n      this.setState({ gameSpecs: undefined });\r\n      return;\r\n    }\r\n\r\n    const gameSpecs = {};\r\n    const { name, cpf } = patient;\r\n\r\n    const mementos = getSnapshot(patient.mementos);\r\n\r\n    let shuffledMementos = shuffle(mementos);\r\n    // Make sure that the memento do not pass 5\r\n    if (shuffledMementos.length > 5) {\r\n      [shuffledMementos] = chunck(shuffledMementos, 5);\r\n    }\r\n\r\n    Object.assign(gameSpecs, {\r\n      nome: name,\r\n      cpf,\r\n      size: shuffledMementos.length - 1,\r\n    });\r\n\r\n    for (const [\r\n      index,\r\n      { desc, data, type, url },\r\n    ] of shuffledMementos.entries()) {\r\n      const lembracaStr = `{\"${index}\":{\"desc\": \"${desc}\", \"data\": \"${data}\", \"type\": \"${type}\", \"url\": \"${url}\"}}`;\r\n      const lembracaObj = JSON.parse(lembracaStr);\r\n\r\n      Object.assign(gameSpecs, lembracaObj);\r\n    }\r\n\r\n    window.addEventListener(\"resize\", this.onWindowResize, false);\r\n\r\n    this.setState({\r\n      ready: true,\r\n      gameSpecs: gameSpecs,\r\n    });\r\n  }\r\n}\r\n\r\nexport default withRouter(inject(\"store\")(observer(Game)));\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router\";\r\n\r\nimport { useIsAuthorized } from \"../stores/hooks/useStore\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const isAuthorized = useIsAuthorized();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthorized ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={{ pathname: \"/\" }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router\";\r\n\r\nimport Login from \"../Components/Login/Login\";\r\nimport Caregiver from \"../Components/Paginas/CareGiver\";\r\nimport Doctor from \"../Components/Paginas/Doctor\";\r\nimport Patient from \"../Components/Patient/Patient\";\r\nimport Scores from \"../Components/Patient/Scores\";\r\nimport Register from \"../Components/Register/Register\";\r\nimport RegisterPatient from \"../Components/Register/RegisterPatient\";\r\nimport Game from \"../Game\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Login} />\r\n      <Route exact path=\"/cadastro\" component={Register} />\r\n      <PrivateRoute exact path=\"/cuidador\" component={Caregiver} />\r\n      <PrivateRoute\r\n        exact\r\n        path=\"/cadastropaciente\"\r\n        component={RegisterPatient}\r\n      />\r\n      <PrivateRoute exact path=\"/paciente/:id\" component={Patient} />\r\n      <PrivateRoute exact path=\"/jogar/:id\" component={Game} />\r\n      <PrivateRoute exact path=\"/jogos/:id\" component={Scores} />\r\n      <PrivateRoute exact path=\"/medico\" component={Doctor} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import { Provider } from \"mobx-react\";\r\nimport React from \"react\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\n\r\nimport Layout from \"./layout\";\r\nimport Routes from \"./routes\";\r\nimport rootStore from \"./stores/rootStore\";\r\n\r\nconst basePath = process.env.BASE_PATH || \"/\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <Router basename={basePath}>\r\n      <Provider store={rootStore}>\r\n        <Layout>\r\n          <Routes />\r\n        </Layout>\r\n      </Provider>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import \"video-react/dist/video-react.css\";\r\n\r\nimport \"./index.css\";\r\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport dotenv from \"dotenv\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\ndotenv.config();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}