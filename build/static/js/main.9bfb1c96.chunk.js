(this.webpackJsonpmemento=this.webpackJsonpmemento||[]).push([[0],{158:function(e,t,a){e.exports=a(343)},160:function(e,t,a){},343:function(e,t,a){"use strict";a.r(t);a(159),a(160),a(161);var n=a(0),r=a.n(n),c=a(41),o=a.n(c),s=a(13),l=a(71),i=a(11),u=a(44),m=a(30),d=a.n(m),p=a(12),h=a(76);function b(){const e=Object(i.a)(["\n  width: 100%;\n  font-size: 1rem;\n"]);return b=function(){return e},e}function E(){const e=Object(i.a)(["\n  text-decoration: none;\n"]);return E=function(){return e},e}const f=Object(p.a)(l.b)(E()),g=Object(p.a)(u.a)(b());var v=e=>{let t=e.to,a=e.label,n=Object(h.a)(e,["to","label"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{to:t},r.a.createElement(g,n,a)))},O=a(146);const y=a.n(O)()({sm:576,md:768,lg:992,xl:1200},e=>"(min-width: ".concat(e,"px)"));function j(){const e=Object(i.a)(["\n  padding: 0 0.5rem;\n  @media "," {\n    margin-left: auto;\n    margin-right: auto;\n    max-width: 550px;\n  }\n\n  @media "," {\n    max-width: 1280px;\n  }\n"]);return j=function(){return e},e}const S=p.a.div(j(),y.md,y.lg);var w=a(39),x=a(38);function C(){const e=Object(i.a)(["\n  font-size: 1.2rem;\n"]);return C=function(){return e},e}function k(){const e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  color: white;\n"]);return k=function(){return e},e}const D=p.a.div(k()),_=p.a.span(C());var T=()=>r.a.createElement(D,null,r.a.createElement(x.a,{size:"2x",icon:w.a}),r.a.createElement(_,null,"Memento")),P=a(19),L=a(1);const M=L.c.model({desc:L.c.maybe(L.c.string),data:L.c.maybe(L.c.string),path:L.c.maybe(L.c.string),type:L.c.maybe(L.c.string)});var N=L.c.model({lembrancaList:L.c.array(L.c.optional(M,{}))}).actions(e=>({addlembranca(t){e.lembrancaList.push(t)},clearAll(){e.lembrancaList.clear()}})),F=a(16),W=a(9),Y=a.n(W),K=a(79),A=a(2),R=(a(277),a(344),a(283),a(147)),U=a.n(R);const z={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).apiKey,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).authDomain,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).databaseURL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).projectId,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).storageBucket,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).messagingSenderId},B=U.a.initializeApp(z),H=B.database(),I=B.storage().ref();var q=a(17);function J(e){const t=e.match(/image|video?/gi);return Object(q.a)(t,1)[0]}const V=L.c.model({gameTime:L.c.maybe(L.c.string),data:L.c.maybe(L.c.string),dataSelecionada:L.c.maybe(L.c.string),numOfMementos:L.c.maybe(L.c.number),score:L.c.maybe(L.c.number)}),G=L.c.model({desc:L.c.maybe(L.c.string),data:L.c.maybe(L.c.string),path:L.c.maybe(L.c.string),type:L.c.maybe(L.c.string),url:L.c.maybe(L.c.string)}),$=L.c.model({id:L.c.maybe(L.c.string),name:L.c.maybe(L.c.string),birthday:L.c.maybe(L.c.string),cpf:L.c.maybe(L.c.string),weight:L.c.maybe(L.c.string),scores:L.c.array(L.c.optional(V,{})),mementos:L.c.array(L.c.optional(G,{}))}),Q=L.c.model({type:L.c.maybeNull(L.c.string),name:L.c.maybe(L.c.string),birthday:L.c.maybe(L.c.string),cpf:L.c.maybe(L.c.string),uid:L.c.maybe(L.c.string),patients:L.c.array($)});var X=L.c.model({user:L.c.maybeNull(Q),token:L.c.maybe(L.c.string),loading:!1}).views(e=>({get isAuthorized(){return!!e.token}})).actions(e=>({fetchUser:Object(L.a)(Y.a.mark((function t(){var a,n,r,c,o;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,H.ref("users/"+e.token).once("value");case 4:return a=t.sent,n=a.val(),e.user=n,t.next=9,H.ref("pacientes/").once("value");case 9:r=t.sent,c=Object.entries(r.val()),"Cuidador"===e.user.type&&(o=c.filter(([e])=>Object.values(n.pacientes).some(t=>t===e)),e.user.patients=o.map(([e,t])=>{const a=t.mementos?Object.values(t.mementos):[];return Object.assign({},Object(K.a)({},t),{id:e},{mementos:a})})),"Medico"===e.user.type&&(e.user.patients=c.map(([e,t])=>{const a=t.mementos?Object.values(t.mementos):[],n=t.scores?Object.values(t.scores):[];return Object.assign({},Object(K.a)({},t),{id:e},{mementos:a,scores:n})})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.error(t.t0.message);case 18:e.loading=!1;case 19:case"end":return t.stop()}}),t,null,[[1,15]])}))),addMemento:Object(L.a)(Y.a.mark((function t(a,n,r,c,o,s){var l,i,u;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((e,t)=>{try{I.child("mementos/"+a+"/"+r).put(c,n).then(()=>{e("Uploaded")})}catch(o){t("Error upload!")}});case 3:return I.child("mementos/"+a+"/"+r).updateMetadata(n),l=I.child("mementos/"+a+"/"+r).fullPath,i=I.child(l),t.next=8,i.getDownloadURL();case 8:return u=t.sent,t.next=11,H.ref("pacientes/"+a+"/mementos").push({desc:r,data:o,path:l,type:J(s),url:u});case 11:e.user.patients.find(e=>e.id===a).mementos.push({desc:r,path:l,data:o,type:s,url:u}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[0,15]])}))),addScore:Object(L.a)(Y.a.mark((function t(a,n){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.ref("pacientes/"+a+"/scores").push(n);case 3:e.user.patients.find(e=>e.id===a).scores.push(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))})).actions(e=>({initialize:Object(L.a)(Y.a.mark((function t(a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.token=a,!a){t.next=4;break}return t.next=4,e.fetchUser();case 4:case"end":return t.stop()}}),t)})))})).actions(e=>({login:Object(L.a)(Y.a.mark((function t({email:a,password:n}){var r,c;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.auth().signInWithEmailAndPassword(a,n);case 3:return r=t.sent,c=r.user.uid,t.next=7,e.initialize(c);case 7:return t.abrupt("return",{response:!0,message:"ok"});case 10:return t.prev=10,t.t0=t.catch(0),console.error(t.t0.message),t.abrupt("return",{response:!1,message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),logout:()=>{e.token=void 0}})).actions(e=>({addPatient:Object(L.a)(Y.a.mark((function t(a){var n,r,c;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.ref("pacientes/").push(a);case 3:if(n=t.sent,r=Object.assign({},Object(K.a)({},a),{id:n.key}),"Cuidador"!==e.user.type){t.next=9;break}return c=n.key,t.next=9,H.ref("users/"+e.token+"/pacientes").child(c).set(n.key);case 9:e.user.patients.push(r),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))})).actions(e=>({afterCreate:function(){var t=Object(F.a)(Y.a.mark((function t(){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("token"),t.next=3,e.initialize(a||void 0);case 3:Object(A.k)(()=>{e.token?localStorage.setItem("token",e.token):localStorage.removeItem("token")});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}));var Z=L.c.model({userStore:L.c.optional(X,{}),lembrancaStore:L.c.optional(N,{})}).create();const ee=()=>Z,te=()=>{const e=ee();return Object(P.d)(()=>e.userStore.isAuthorized)};function ae(){const e=Object(i.a)(["\n  margin-top: 1rem;\n"]);return ae=function(){return e},e}function ne(){const e=Object(i.a)(["\n  display: inline-block;\n\n  font-weight: bold;\n  white-space: nowrap;\n"]);return ne=function(){return e},e}function re(){const e=Object(i.a)(["\n  display: flex;\n\n  align-items: center;\n"]);return re=function(){return e},e}function ce(){const e=Object(i.a)(["\n  width: 100%;\n  display: flex;\n\n  justify-content: space-between;\n  align-items: center;\n  color: white;\n"]);return ce=function(){return e},e}function oe(){const e=Object(i.a)(["\n  padding: 1rem 0;\n"]);return oe=function(){return e},e}function se(){const e=Object(i.a)(["\n  width: 100vw;\n  position: sticky;\n\n  background-color: #007bff;\n"]);return se=function(){return e},e}const le=p.a.div(se()),ie=Object(p.a)(S)(oe()),ue=p.a.div(ce()),me=p.a.div(re()),de=p.a.span(ne()),pe=p.a.div(ae());var he=({children:e})=>{const t=(()=>{const e=ee();return Object(P.d)(()=>e.userStore.loading)})(),a=te(),n=ee(),c=n.userStore.user?n.userStore.user.type:null,o=n.userStore.user?n.userStore.user.name:null;return t?r.a.createElement(d.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):a?r.a.createElement(r.a.Fragment,null,r.a.createElement(le,null,r.a.createElement(ie,null,r.a.createElement(ue,null,r.a.createElement(de,null,o),r.a.createElement(me,null,r.a.createElement(v,{variant:"primary",label:"Meus Pacientes",to:"/".concat(c)}),r.a.createElement(u.a,{variant:"primary",onClick:()=>{n.userStore.logout()}},"Sair"))))),r.a.createElement(pe,null,e)):r.a.createElement(r.a.Fragment,null,e)},be=a(6),Ee=a(14);function fe(){const e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return fe=function(){return e},e}function ge(){const e=Object(i.a)(["\n  min-width: 500px;\n  padding: 1rem;\n\n  display: flex;\n  flex-direction: column;\n\n  background-color: #007bff;\n  box-shadow: 0 0 1em gray;\n  color: white;\n  border-radius: 0.5rem;\n"]);return ge=function(){return e},e}function ve(){const e=Object(i.a)(["\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  flex-direction: column;\n"]);return ve=function(){return e},e}const Oe=p.a.div(ve()),ye=Object(p.a)(Ee.a)(ge()),je=Object(p.a)(Ee.a)(fe());class Se extends n.Component{constructor(e){var t;super(e),t=this,this.handleChange=e=>{this.setState({[e.target.id]:e.target.value})},this.handleSubmit=function(){var e=Object(F.a)(Y.a.mark((function e(a){var n,r,c,o,s,l,i,u,m;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=t.state,r=n.email,c=n.password,o=t.props,s=o.store,l=o.history,e.next=5,s.userStore.login({email:r,password:c});case 5:i=e.sent,u=i.response,m=i.message,u&&l.push("".concat(s.userStore.user.type)),u||alert(m);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.routeChange=()=>{this.props.history.push("/cadastro")},this.props=e,this.state={email:"",password:""}}validateForm(){return this.state.email.length>0&&this.state.password.length>0}render(){return this.props.store.userStore.isAuthorized?r.a.createElement(be.a,{to:"/".concat(this.props.store.userStore.user.type)}):r.a.createElement(S,null,r.a.createElement(Oe,null,r.a.createElement(ye,{onSubmit:this.handleSubmit,id:"login"},r.a.createElement(T,null),r.a.createElement(Ee.a.Group,{controlId:"email"},r.a.createElement(Ee.a.Label,null,"Email"),r.a.createElement(Ee.a.Control,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(Ee.a.Group,{controlId:"password"},r.a.createElement(Ee.a.Label,null,"Senha"),r.a.createElement(Ee.a.Control,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(je,null,r.a.createElement(u.a,{className:"btn btn-primary",disabled:!this.validateForm(),type:"submit",form:"login"},"Login"),r.a.createElement(u.a,{className:"btn btn-primary",onClick:this.routeChange},"Cadastrar")))))}}var we=Object(be.i)(Object(s.b)("store")(Object(s.c)(Se))),xe=a(346),Ce=a(347),ke=a(157),De=a(154),_e=a(48),Te=a(148),Pe=a(149);class Le extends n.Component{constructor(e){var t;super(e),t=this,this.handleSubmit=function(){var e=Object(F.a)(Y.a.mark((function e(a){var n,r,c,o,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=t.state,r=n.birthday,c=n.name,o=n.cpf,s=n.weight,e.prev=2,t.setState({loading:!0}),e.next=6,t.props.store.userStore.addPatient({birthday:r,name:c,cpf:o,weight:s});case 6:t.setState({loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),this.handleControl=e=>{const t=e.target,a=t.value,n=t.id;this.setState({[n]:a})},this.state={birthday:"",name:"",cpf:"",weight:"",loading:!1}}render(){return this.state.loading?r.a.createElement(d.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):r.a.createElement(Ee.a,{onSubmit:this.handleSubmit},r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Nome"),r.a.createElement(Pe.a,{type:"name",id:"name",placeholder:"Jose da Silva",onChange:this.handleControl,onClick:this.handleControl,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Peso"),r.a.createElement(Pe.a,{type:"text",id:"weight",placeholder:"peso",onChange:this.handleControl,onClick:this.handleControl,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"CPF"),r.a.createElement(Pe.a,{type:"text",id:"cpf",placeholder:"CPF",onChange:this.handleControl,onClick:this.handleControl,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Data de nascimento"),r.a.createElement(Pe.a,{type:"date",id:"birthday",placeholder:"Data nascimento",onChange:this.handleControl,onClick:this.handleControl,required:!0})),r.a.createElement(u.a,{type:"submit"}," Cadastar "))}}var Me=Object(be.i)(Object(s.b)("store")(Object(s.c)(Le))),Ne=a(36),Fe=a.n(Ne);class We extends n.Component{constructor(...e){super(...e),this.routeChange=e=>{const t=e.target.id,a=this.props,n=a.history,r=a.patient;n.push("".concat(t,"/").concat(r.id))}}render(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.weight,"Kg"),r.a.createElement("td",null,this.props.cpf),r.a.createElement("td",null,Fe()(this.props.birthday,"YYYY-MM-DD").format("DD/MM/YYYY")),r.a.createElement("td",null,r.a.createElement(u.a,{id:"paciente",className:"btn btn-primary",onClick:this.routeChange},"Acessar")),r.a.createElement("td",null,r.a.createElement(u.a,{id:"jogar",className:"btn btn-primary",onClick:this.routeChange},"Jogar")))}}var Ye=Object(be.i)(We);function Ke(){const e=Object(i.a)(["\n  margin-left: 1rem;\n  cursor: pointer;\n"]);return Ke=function(){return e},e}function Ae(){const e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n"]);return Ae=function(){return e},e}const Re=p.a.div(Ae()),Ue=Object(p.a)(x.a)(Ke());class ze extends n.Component{constructor(e){super(e),this.handleClose=()=>{this.setState({show:!1})},this.handleShow=()=>{this.setState({show:!0})},this.state={rows:[],show:!1}}render(){const e=Object(L.b)(this.props.store.userStore.user.patients);return"Cuidador"!==this.props.store.userStore.user.type?r.a.createElement("div",null,"Voc\xea n\xe3o pode entrar aqui!"):r.a.createElement(S,null,r.a.createElement(Re,null,r.a.createElement("h1",null,"Meus pacientes"),r.a.createElement(Ue,{onClick:this.handleShow,icon:w.b})),r.a.createElement(xe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nome"),r.a.createElement("th",{scope:"col"},"Peso"),r.a.createElement("th",{scope:"col"},"CPF"),r.a.createElement("th",{scope:"col"},"Data nascimento"),r.a.createElement("th",{scope:"col"},"Acesso ao paciente"),r.a.createElement("th",{scope:"col"},"Jogar"))),r.a.createElement("tbody",null,e.map((e,t)=>r.a.createElement(Ye,Object.assign({key:t,patient:e},e))))),r.a.createElement(Ce.a,{show:this.state.show,onHide:this.handleClose,backdrop:"static",keyboard:!1},r.a.createElement(_e.a,{closeButton:!0},r.a.createElement(ke.a,null,"Novo Paciente")),r.a.createElement(De.a,null,r.a.createElement(Me,null))))}}var Be=Object(be.i)(Object(s.b)("store")(Object(s.c)(ze)));class He extends n.Component{constructor(...e){super(...e),this.routeChange=e=>{const t=e.target.id,a=this.props,n=a.history,r=a.patient;n.push("".concat(t,"/").concat(r.id))}}render(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.weight,"Kg"),r.a.createElement("td",null,this.props.cpf),r.a.createElement("td",null,Fe()(this.props.birthday,"YYYY-MM-DD").format("DD/MM/YYYY")),r.a.createElement("td",null,r.a.createElement(u.a,{id:"paciente",className:"btn btn-primary",onClick:this.routeChange},"Acessar")),r.a.createElement("td",null,r.a.createElement(u.a,{id:"jogos",className:"btn btn-primary",onClick:this.routeChange},"Acessar")),r.a.createElement("td",null,r.a.createElement(u.a,{id:"jogar",className:"btn btn-primary",onClick:this.routeChange},"Jogar")))}}var Ie=Object(be.i)(He);function qe(){const e=Object(i.a)(["\n  margin-left: 1rem;\n  cursor: pointer;\n"]);return qe=function(){return e},e}function Je(){const e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n"]);return Je=function(){return e},e}const Ve=p.a.div(Je()),Ge=Object(p.a)(x.a)(qe());class $e extends n.Component{constructor(e){super(e),this.handleClose=()=>{this.setState({show:!1})},this.handleShow=()=>{this.setState({show:!0})},this.state={show:!1}}render(){const e=Object(L.b)(this.props.store.userStore.user.patients);return"Medico"!==this.props.store.userStore.user.type?r.a.createElement("div",null,"Voc\xea n\xe3o pode entrar aqui!"):r.a.createElement(S,null,r.a.createElement(Ve,null,r.a.createElement("h1",null,"Meus pacientes"),r.a.createElement(Ge,{onClick:this.handleShow,icon:w.b})),r.a.createElement(xe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Peso"),r.a.createElement("th",null,"CPF"),r.a.createElement("th",null,"Data nascimento"),r.a.createElement("th",null,"Acesso as lembra\xe7as"),r.a.createElement("th",null,"Acesso as scores"),r.a.createElement("th",null,"Jogar"))),r.a.createElement("tbody",null,e.map((e,t)=>r.a.createElement(Ie,Object.assign({key:t,patient:e},e))))),r.a.createElement(Ce.a,{show:this.state.show,onHide:this.handleClose,backdrop:"static",keyboard:!1},r.a.createElement(_e.a,{closeButton:!0},r.a.createElement(ke.a,null,"Novo Paciente")),r.a.createElement(De.a,null,r.a.createElement(Me,null))))}}var Qe=Object(be.i)(Object(s.b)("store")(Object(s.c)($e))),Xe=a(74);function Ze(){const e=Object(i.a)(["\n  width: 250px;\n  height: 200px;\n\n  object-fit: contain;\n"]);return Ze=function(){return e},e}function et(){const e=Object(i.a)(["\n  width: 250px;\n  height: 200px;\n\n  object-fit: contain;\n"]);return et=function(){return e},e}const tt=p.a.img(et()),at=p.a.video(Ze());var nt=({type:e,data:t,desc:a,url:n})=>{let c;return console.log(e),e.includes("image")&&(c=r.a.createElement(tt,{src:n,alt:"lembran\xe7a"})),e.includes("video")&&(c=r.a.createElement(at,{controls:!0,src:n})),r.a.createElement("tr",null,r.a.createElement("td",null,c),r.a.createElement("td",null,a),r.a.createElement("td",null,Fe()(t,"YYYY-MM-DD").format("DD/MM/YYYY")))};function rt(){const e=Object(i.a)(["\n  margin-left: 1rem;\n  cursor: pointer;\n"]);return rt=function(){return e},e}function ct(){const e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n"]);return ct=function(){return e},e}const ot=p.a.div(ct()),st=Object(p.a)(x.a)(rt());var lt=Object(s.c)(()=>{const e=r.a.useState(!1),t=Object(q.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),o=Object(q.a)(c,2),s=o[0],l=o[1],i=r.a.useState(void 0),m=Object(q.a)(i,2),p=m[0],h=m[1],b=Object(Xe.a)(),E=b.handleSubmit,f=b.register,g=ee(),v=Object(be.h)().id;r.a.useEffect(()=>{const e=Object(L.b)(g.userStore.user.patients.find(e=>e.id===v));h(e)},[]);const O=function(){var e=Object(F.a)(Y.a.mark((function e(t){var a,r,c,o,s,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.desc,r=t.data,c=t.file[0],a&&c&&r){e.next=5;break}return alert("Todos os campos devem estar preenchidos!"),e.abrupt("return");case 5:return e.prev=5,l(!0),o=c.type,s={customMetadata:{desc:a,data:r}},e.next=11,g.userStore.addMemento(v,s,a,c,r,o);case 11:i=Object(L.b)(g.userStore.user.patients.find(e=>e.id===v)),h(i),n(!1),l(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),alert(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}();return p?r.a.createElement(S,null,r.a.createElement(ot,null,r.a.createElement("h1",null,"Lembran\xe7as de ",p.name),r.a.createElement(st,{onClick:()=>n(!0),icon:w.b})),r.a.createElement(xe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Lembran\xe7a"),r.a.createElement("th",{scope:"col"},"Descri\xe7\xe3o"),r.a.createElement("th",{scope:"col"},"Data"))),r.a.createElement("tbody",null,p.mementos.map((e,t)=>r.a.createElement(nt,Object.assign({key:t},e))))),r.a.createElement(Ce.a,{show:a,onHide:()=>n(!1),backdrop:"static",keyboard:!1},r.a.createElement(Ce.a.Header,{closeButton:!s},r.a.createElement(Ce.a.Title,null,"Envio de lembra\xe7a")),r.a.createElement(Ce.a.Body,null,s?r.a.createElement(d.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):r.a.createElement(Ee.a,{onSubmit:E(O)},r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Descri\xe7\xe3o"),r.a.createElement(Pe.a,{type:"text",name:"desc",placeholder:"Decri\xe7\xe3o da lembra\xe7a",ref:f,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Data da lembran\xe7a"),r.a.createElement(Pe.a,{type:"date",name:"data",placeholder:"Data de ocorrencia",ref:f,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Arquivo da lembran\xe7a (video ou imagem)"),r.a.createElement(Pe.a,{type:"file",name:"file",accept:".mp4,.avi,.png,.jpeg",placeholder:"Selecione a lembran\xe7a",ref:f,required:!0})),r.a.createElement(u.a,{type:"submit",variant:"primary"},"Enviar"))))):r.a.createElement("div",null,"Paciente nao encontrado")});var it=({data:e,gameTime:t,score:a,numOfMementos:n})=>r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,t),r.a.createElement("td",null,e));function ut(){const e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n"]);return ut=function(){return e},e}const mt=p.a.div(ut());class dt extends n.Component{constructor(e){super(e),this.state={jogos:[],patient:void 0}}render(){if(!this.state.patient)return null;const e=this.state.patient.name;return r.a.createElement(S,null,r.a.createElement(mt,null,r.a.createElement("h1",null,"Scores de ",e)),r.a.createElement(xe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Acertos"),r.a.createElement("th",{scope:"col"},"Numero de lembran\xe7as"),r.a.createElement("th",{scope:"col"},"Tempo de jogo (mm:ss)"),r.a.createElement("th",{scope:"col"},"Data do jogo"))),r.a.createElement("tbody",null,this.state.patient.scores.map((e,t)=>r.a.createElement(it,Object.assign({key:t},e))))))}componentDidMount(){const e=this.props.match.params.id,t=this.props.store.userStore.user.patients.find(t=>t.id===e);this.setState({patient:t?Object(L.b)(t):void 0})}}var pt=Object(be.i)(Object(s.b)("store")(Object(s.c)(dt)));function ht(){const e=Object(i.a)(["\n  min-width: 500px;\n  padding: 1rem;\n\n  display: flex;\n  flex-direction: column;\n\n  background-color: #007bff;\n  box-shadow: 0 0 1em gray;\n  color: white;\n  border-radius: 0.5rem;\n"]);return ht=function(){return e},e}function bt(){const e=Object(i.a)(["\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return bt=function(){return e},e}const Et=p.a.div(bt()),ft=Object(p.a)(Ee.a)(ht());var gt=Object(be.i)(()=>{const e=Object(Xe.a)(),t=e.handleSubmit,a=e.register,n=Object(be.g)(),c=r.a.useState(!1),o=Object(q.a)(c,2),s=o[0],l=o[1],i=function(){var e=Object(F.a)(Y.a.mark((function e(t){var a,r,c,o,s,i,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,c=t.birthday,o=t.name,s=t.cpf,i=t.type,l(!0),e.prev=2,e.next=5,B.auth().createUserWithEmailAndPassword(a,r);case 5:return u=e.sent,e.next=8,H.ref("users/"+u.user.uid).set({name:o,email:a,birthday:c,cpf:s,type:i});case 8:l(!1),n.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return s?r.a.createElement(d.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):r.a.createElement(S,null,r.a.createElement(Et,null,r.a.createElement(ft,{onSubmit:t(i)},r.a.createElement(T,null),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Email"),r.a.createElement(Pe.a,{type:"email",autoComplete:"email",id:"email",name:"email",placeholder:"name@example.com",ref:a,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Senha"),r.a.createElement(Pe.a,{type:"password",id:"password",name:"password",placeholder:"senha",ref:a,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Nome"),r.a.createElement(Pe.a,{type:"name",id:"name",name:"name",placeholder:"Nome",ref:a,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"CPF"),r.a.createElement(Pe.a,{type:"text",id:"cpf",name:"cpf",placeholder:"CPF",ref:a,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Data nascimento "),r.a.createElement(Pe.a,{type:"date",id:"birthday",name:"birthday",placeholder:"Data nascimento",ref:a,required:!0})),r.a.createElement(Te.a,null,r.a.createElement(Ee.a.Label,null,"Tipo de usuario"),r.a.createElement(Pe.a,{as:"select",id:"type",name:"type",ref:a,required:!0,defaultValue:"Medico"},r.a.createElement("option",null,"Medico"),r.a.createElement("option",null,"Cuidador"))),r.a.createElement(u.a,{type:"submit"}," Cadastar "))))}),vt=a(75),Ot=a(155),yt=a.n(Ot),jt=a(156),St=a.n(jt);function wt(e){return e.gapCorreto===e.gapSelecionado?1:0}const xt=e=>{let t=Fe.a.duration(e,"milliseconds"),a=Math.floor(t.asMinutes()),n=Math.floor(t.asSeconds()-60*a);return Math.floor(t.asSeconds())>=60?(a<=9?"0"+a:a)+":"+(n<=9?"0"+n:n):"00:"+(n<=9?"0"+n:n)};let Ct=window.innerWidth,kt=window.innerHeight;class Dt extends n.Component{constructor(e){var t;super(e),t=this,this.handleFrameTasks=function(){var e=Object(F.a)(Y.a.mark((function e(a){var n,r,c,o,s,l,i,u,m,d,p,h,b,E,f;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.data.fnName,r=t.state,c=r.ready,o=r.gameSpecs,s=t.props.store.userStore,l=t.props.match.params.id,"returnJson"===n&&c&&("Rex_FrameMessage.Return",i={type:"Rex_FrameMessage.Return",sender:'""',fnName:"returnJson",value:JSON.stringify(o)},t.ifr.contentWindow.postMessage(i,"*")),"endGame"!==n||!c){e.next=20;break}if(i=a.data,u=Object(q.a)(i.params,1),m=u[0],d=JSON.parse(m),!window.confirm("Jogo finalizado, deseja salvar os dados?")){e.next=18;break}for(p=Object.values(d),h=0,b=0,E=p;b<E.length;b++)i=E[b],h+=wt(i);return f={score:h,numOfMementos:p.length,data:Fe()().format("DD/MM/YYYY"),gameTime:xt(Date.now()-t.state.initGame)},e.next=16,s.addScore(l,f);case 16:e.next=19;break;case 18:alert("Jogo n\xe3o salvo nos scores!");case 19:t.setState({done:!0});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onWindowResize=()=>{Ct=window.innerWidth,kt=window.innerHeight,this.ifr.width=Ct,this.ifr.height=kt},this.state={ready:!1,gameSpecs:void 0,initGame:Date.now(),done:!1}}render(){const e=this.state.ready;return this.state.done?r.a.createElement(be.a,{to:"/"}):this.state.gameSpecs?e?r.a.createElement("iframe",{ref:e=>this.ifr=e,id:"game",title:"game",src:"../game/",width:Ct,height:kt}):e?void 0:r.a.createElement(d.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):r.a.createElement("div",null,"N\xe3o \xe9 possivel criar um jogo, n\xfamero insufiiciente de lembran\xe7as!")}componentDidUpdate(){this.ifr&&(this.ifr.onload=()=>{window.addEventListener("message",this.handleFrameTasks)})}componentWillUnmount(){window.removeEventListener("message",this.handleFrameTasks),window.removeEventListener("resize",this.onWindowResize)}componentDidMount(){const e=this.props.match.params.id,t=this.props.store.userStore.user.patients.find(t=>t.id===e);if(!t||t.mementos.length<3)return void this.setState({gameSpecs:void 0});const a={},n=t.name,r=t.cpf,c=Object(L.b)(t.mementos);let o=St()(c);if(o.length>5){var s=yt()(o,5);o=Object(q.a)(s,1)[0]}Object.assign(a,{nome:n,cpf:r,size:o.length-1});var l,i=Object(vt.a)(o.entries());try{for(i.s();!(l=i.n()).done;){const e=Object(q.a)(l.value,2),t=e[0],n=e[1],r=n.desc,c=n.data,o=n.type,s=n.url,i='{"'.concat(t,'":{"desc": "').concat(r,'", "data": "').concat(c,'", "type": "').concat(o,'", "url": "').concat(s,'"}}'),u=JSON.parse(i);Object.assign(a,u)}}catch(u){i.e(u)}finally{i.f()}window.addEventListener("resize",this.onWindowResize,!1),this.setState({ready:!0,gameSpecs:a})}}var _t=Object(be.i)(Object(s.b)("store")(Object(s.c)(Dt)));var Tt=e=>{let t=e.component,a=Object(h.a)(e,["component"]);const n=te();return r.a.createElement(be.b,Object.assign({},a,{render:e=>n?r.a.createElement(t,e):r.a.createElement(be.a,{to:{pathname:"/"}})}))};var Pt=()=>r.a.createElement(be.d,null,r.a.createElement(be.b,{exact:!0,path:"/",component:we}),r.a.createElement(be.b,{exact:!0,path:"/cadastro",component:gt}),r.a.createElement(Tt,{exact:!0,path:"/cuidador",component:Be}),r.a.createElement(Tt,{exact:!0,path:"/cadastropaciente",component:Me}),r.a.createElement(Tt,{exact:!0,path:"/paciente/:id",component:lt}),r.a.createElement(Tt,{exact:!0,path:"/jogar/:id",component:_t}),r.a.createElement(Tt,{exact:!0,path:"/jogos/:id",component:pt}),r.a.createElement(Tt,{exact:!0,path:"/medico",component:Qe}));const Lt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).BASE_PATH||"/";var Mt=()=>r.a.createElement(l.a,{basename:Lt},r.a.createElement(s.a,{store:Z},r.a.createElement(he,null,r.a.createElement(Pt,null))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Mt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[158,1,2]]]);
//# sourceMappingURL=main.9bfb1c96.chunk.js.map